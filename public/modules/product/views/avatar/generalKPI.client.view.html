<div>
  <h1>{{ productName }}: {{ kpiTitle }}</h1>

  <form class="form-inline">
    <div class="form-group">
      <select ng-model="kpiName" class="form-control" ng-options="kpi for kpi in generalKPIList" ng-change="clearFigure()">
        <option value="">-- choose a kpi --</option>
      </select>
    </div>
    <div class="form-group">
      <label class="sr-only" for="from">From</label>
      <input type="text" class="form-control" id="from" placeholder="from: yyyy-mm-dd" ng-model="from"></input>
    </div>
    <div class="form-group">
      <label class="sr-only" for="to">To</label>
      <input type="text" class="form-control" id="to" placeholder="to: yyyy-mm-dd" ng-model="to"></input>
    </div>
    <button class="btn btn-default" ng-click="loadKPI()">Load</button>
    <button class="btn btn-default" ng-click="downloadKPI()">Download</button>
  </form>
  <table class="table">
    <thead>
      <tr>
        <th>Date</th>
        <th ng-repeat="kpiName in kpiNames">{{ kpiName }}</th>
      </tr>
    </thead>
    <tbody>
      <tr ng-repeat="row in data">
        <td>{{ row.date }} </td>
        <td ng-repeat="kpiName in kpiNames">{{ row[kpiName] }} </td>
      </tr>
    </tbody>
  </table>

  <nvd3-multi-bar-chart
    data="gdata"
    id="exampleId"
    width="800"
    height="350"
    showLegend="true"
    showXAxis="true"
    showYAxis="true"
    tooltips="true"
    xAxisTickFormat="xAxisTickFormat()">
    <svg></svg>
  </nvd3-multi-bar-chart>
 </div>
</div>
